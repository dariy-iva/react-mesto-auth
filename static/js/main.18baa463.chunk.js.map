{"version":3,"sources":["utils/api.js","utils/auth.js","contexts/CurrentUserContext.js","contexts/LoggedInContext.js","images/logo.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPostPopup.js","components/DeletePostPopup.js","images/successRegist.svg","images/errorRegist.svg","components/InfoTooltipPopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","objConfig","this","_token","token","_id","id","_adress","adress","res","ok","json","Promise","reject","status","fetch","headers","authorization","then","_verifyResolve","data","method","body","JSON","stringify","name","about","avatar","mesto","link","postId","isLiked","base_url","verifyResolve","CurrentUserContext","React","createContext","LoggedInContext","Header","currentEmail","signOut","loggedIn","useContext","location","useLocation","linkText","pathname","newLocation","className","href","src","logo","alt","to","onClick","Card","card","onCardClick","onCardLike","onCardDeleteClick","owner","likes","currentUser","isOwn","buttonDeleteClassName","some","i","buttonLikeClassName","type","length","Main","onEditAvatar","onEditProfile","onAddPost","posts","map","post","Footer","ImagePopup","props","isOpen","onClose","PopupWithForm","title","buttonSubmit","children","onSubmit","popupClass","formClass","EditProfilePopup","onUpdateUser","useState","setName","setAbout","useEffect","e","preventDefault","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPostPopup","setMesto","setLink","DeletePostPopup","onDeletePost","InfoTooltipPopup","statusRegist","textInfo","successRegistImg","errorRegistImg","Login","handleLogin","email","setEmail","password","setPassword","Register","handleRegister","ProtectedRoute","App","history","useNavigate","setCurrentUser","setCurrentEmail","setLoggedIn","isSuccessRegist","setIsSuccessRegist","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPostPopupOpen","setIsAddPostPopupOpen","isEditAvatarPopupOpenen","setIsEditAvatarPopupOpen","isDeletePostPopupOpenen","setIsDeletePostPopupOpenen","isImagePopupOpenen","setIsImagePopupOpenen","isInfoTooltipPopupOpenen","setIsInfoTooltipPopupOpenen","selectedCard","setSelectedCard","setPosts","closeAllPopups","getUserInfo","catch","err","console","log","getPosts","localStorage","getItem","jwt","handleTokenCheck","closeByEscape","key","document","addEventListener","removeEventListener","Provider","removeItem","path","element","changeLikePostStatus","newPost","state","c","exact","auth","statusCode","finally","setItem","setUserInfo","addPost","deletePost","filter","setUserAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.18baa463.chunk.js","sourcesContent":["class Api {\r\n  constructor(objConfig) {\r\n    this._token = objConfig.token;\r\n    this._id = objConfig.id;\r\n    this._adress = objConfig.adress;\r\n  }\r\n\r\n  _verifyResolve(res) {\r\n    return res.ok ? res.json() : Promise.reject(res.status);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._adress}/v1/${this._id}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  getPosts() {\r\n    return fetch(`${this._adress}/v1/${this._id}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this._adress}/v1/${this._id}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about,\r\n      }),\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  setUserAvatar(data) {\r\n    return fetch(`${this._adress}/v1/${this._id}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar,\r\n      }),\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  addPost(data) {\r\n    return fetch(`${this._adress}/v1/${this._id}/cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.mesto,\r\n        link: data.link,\r\n      }),\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  deletePost(postId) {\r\n    return fetch(`${this._adress}/v1/${this._id}/cards/${postId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._verifyResolve);\r\n  }\r\n\r\n  changeLikePostStatus(postId, isLiked) {\r\n    return fetch(`${this._adress}/v1/${this._id}/cards/likes/${postId}`, {\r\n      method: isLiked ? \"DELETE\" : \"PUT\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    }).then(this._verifyResolve);\r\n  }\r\n}\r\n\r\nconst apiConfig = {\r\n  token: \"036b7b31-eb11-4936-b88e-e4dfd598930e\",\r\n  id: \"cohort-28\",\r\n  adress: \"https://mesto.nomoreparties.co\",\r\n};\r\n\r\nexport const api = new Api(apiConfig);\r\n","const base_url = 'https://auth.nomoreparties.co';\r\n\r\nfunction verifyResolve(res) {\r\n  return res.ok ? res.json() : Promise.reject(res.status);\r\n}\r\n\r\nexport const register = (password, email) => {\r\n  return fetch(`${base_url}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({password, email})\r\n  })\r\n  .then(verifyResolve)\r\n  .then((res) => {\r\n    return res;\r\n  })\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${base_url}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then(verifyResolve)\r\n  .then((data) => {\r\n      localStorage.setItem('jwt', data.token);\r\n      return data;\r\n  })\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${base_url}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(verifyResolve)\r\n  .then(data => data)\r\n}","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\n\r\nexport const LoggedInContext = React.createContext();","export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\r\nimport logo from \"../images/logo.svg\";\r\nimport { LoggedInContext } from \"../contexts/LoggedInContext\";\r\nimport { Link, useLocation  } from \"react-router-dom\";\r\n\r\nexport default function Header({currentEmail, signOut}) {\r\n  const loggedIn = React.useContext(LoggedInContext);\r\n  const location = useLocation();\r\n  const linkText = location.pathname === \"/sign-up\" ? \"Войти\" : \"Регистрация\";\r\n  const newLocation = location.pathname === \"/sign-up\" ? \"/sign-in\" : \"/sign-up\";\r\n  return (\r\n    <header className=\"header\">\r\n      <a href=\"/\">\r\n        <img src={logo} alt=\"логотип\" className=\"header__logo link-hover\" />\r\n      </a>\r\n      <nav className=\"menu\">\r\n        {loggedIn ? (\r\n          <>\r\n            <Link to=\"/\" className=\"menu__link\">\r\n              {currentEmail}\r\n            </Link>\r\n            <Link to=\"/sign-in\" className=\"menu__link\" onClick={signOut}>\r\n              Выйти\r\n            </Link>\r\n          </>\r\n        ) : (\r\n          <Link to={newLocation} className=\"menu__link\">\r\n            {linkText}\r\n          </Link>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nexport default function Card({ card, onCardClick, onCardLike, onCardDeleteClick }) {\r\n  const { owner, link, name, likes } = card;\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = owner._id === currentUser._id;\r\n  const buttonDeleteClassName = `post__del-button ${\r\n    isOwn && \"post__del-button_visible\"\r\n  }`;\r\n\r\n  const isLiked = likes.some((i) => i._id === currentUser._id);\r\n  const buttonLikeClassName = `post__like-button ${\r\n    isLiked && \"post__like-button_active\"\r\n  }`;\r\n\r\n  function handleImgClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDeleteClick(card);\r\n  }\r\n\r\n  return (\r\n    <article className=\"post\">\r\n      <img\r\n        src={link}\r\n        alt={name}\r\n        className=\"post__photo\"\r\n        onClick={handleImgClick}\r\n      />\r\n      <p className=\"post__caption\">{name}</p>\r\n      <div className=\"post__likes\">\r\n        <button type=\"button\" className={buttonLikeClassName} onClick={handleLikeClick}></button>\r\n        <p className=\"post__likes-number\">{likes.length}</p>\r\n      </div>\r\n      <button type=\"button\" className={buttonDeleteClassName} onClick={handleDeleteClick}></button>\r\n    </article>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\n\r\nexport default function Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPost,\r\n  onCardClick,\r\n  onCardLike,\r\n  onCardDeleteClick,\r\n  posts,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"content\">\r\n      <section className=\"profile\">\r\n        <img\r\n          src={currentUser.avatar || \"\"}\r\n          alt=\"аватар\"\r\n          className=\"profile__avatar\"\r\n        />\r\n        <div className=\"profile__edit-avatar\" onClick={onEditAvatar} />\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">\r\n            {currentUser.name || \"Пользователь не найден\"}\r\n          </h1>\r\n          <p className=\"profile__about-me\">\r\n            {currentUser.about || \"Пользователь не найден\"}\r\n          </p>\r\n          <button\r\n            className=\"profile__edit-button\"\r\n            type=\"button\"\r\n            onClick={onEditProfile}\r\n          />\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          type=\"button\"\r\n          onClick={onAddPost}\r\n        />\r\n      </section>\r\n      <section className=\"posts\">\r\n        {posts.map((post) => (\r\n          <Card\r\n            card={post}\r\n            onCardClick={onCardClick}\r\n            onCardLike={onCardLike}\r\n            onCardDeleteClick={onCardDeleteClick}\r\n            key={post._id}\r\n          />\r\n        ))}\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__author\">&copy;&nbsp;2021 Daria Ivanova</p>\r\n    </footer>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ImagePopup(props) {\r\n  const { isOpen, card, onClose } = props;\r\n  return (\r\n    <div\r\n      className={`popup popup_content_photo ${isOpen && \"popup_opened\"}`}\r\n      id=\"popup-open-photo\"\r\n    >\r\n      <div className=\"popup__photo-box\">\r\n        <img\r\n          src={card ? card.link : \"#\"}\r\n          alt={card ? card.name : \"\"}\r\n          className=\"popup__photo\"\r\n        />\r\n        <p className=\"popup__caption-photo\">{card ? card.name : \"\"}</p>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__reset-button\"\r\n          onClick={onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function PopupWithForm({\r\n  name,\r\n  title,\r\n  buttonSubmit,\r\n  children,\r\n  isOpen,\r\n  onClose,\r\n  onSubmit,\r\n}) {\r\n  const popupClass = `popup ${isOpen && \"popup_opened\"}`;\r\n  const formClass = `popup__form popup__form_contain_${name}`;\r\n\r\n  return (\r\n    <div className={popupClass}>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form name={name} className={formClass} onSubmit={onSubmit}>\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__submit-button\">\r\n            {buttonSubmit || \"Сохранить\"}\r\n          </button>\r\n          <button\r\n            type=\"reset\"\r\n            className=\"popup__reset-button\"\r\n            onClick={onClose}\r\n          ></button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState(\"\");\r\n  const [about, setAbout] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name || \"\");\r\n    setAbout(currentUser.about || \"\");\r\n  }, [currentUser, isOpen]);\r\n\r\n  function handleChangeInputName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeInputAbout(e) {\r\n    setAbout(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-profile\"\r\n      title=\"Редактировать профиль\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"popup__input popup__input_content_name\"\r\n            placeholder=\"Имя\"\r\n            name=\"name\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            id=\"name-input\"\r\n            value={name}\r\n            onChange={handleChangeInputName}\r\n          />\r\n          <span className=\"popup__error name-input-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"popup__input\"\r\n            placeholder=\"Профессиональная деятельность\"\r\n            id=\"about-me-input\"\r\n            name=\"about\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            value={about}\r\n            onChange={handleChangeInputAbout}\r\n          />\r\n          <span className=\"popup__error about-me-input-error\"></span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const avatarRef = React.useRef();\r\n\r\n  React.useEffect(() => {\r\n    avatarRef.current.value = \"\";\r\n  }, [isOpen]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"edit-avatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"url\"\r\n            className=\"popup__input\"\r\n            placeholder=\"Ссылка на аватар\"\r\n            id=\"avatar-input\"\r\n            name=\"avatar\"\r\n            required\r\n            ref={avatarRef}\r\n          />\r\n          <span className=\"popup__error avatar-input-error\"></span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPostPopup({ isOpen, onClose, onAddPost }) {\r\n  const [mesto, setMesto] = React.useState(\"\");\r\n  const [link, setLink] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setMesto(\"\");\r\n    setLink(\"\");\r\n  }, [isOpen]);\r\n\r\n  function handleChangeInputMesto(e) {\r\n    setMesto(e.target.value);\r\n  }\r\n\r\n  function handleChangeInputLink(e) {\r\n    setLink(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPost({\r\n      mesto,\r\n      link,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"add-post\"\r\n      title=\"Новое место\"\r\n      buttonSubmit=\"Создать\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <fieldset className=\"popup__fieldset\">\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"popup__input\"\r\n            placeholder=\"Название\"\r\n            id=\"place-input\"\r\n            name=\"mesto\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"30\"\r\n            value={mesto}\r\n            onChange={handleChangeInputMesto}\r\n          />\r\n          <span className=\"popup__error place-input-error\"></span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n          <input\r\n            type=\"url\"\r\n            className=\"popup__input\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            id=\"link-input\"\r\n            name=\"link\"\r\n            required\r\n            value={link}\r\n            onChange={handleChangeInputLink}\r\n          />\r\n          <span className=\"popup__error link-input-error\"></span>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function DeletePostPopup({\r\n  isOpen,\r\n  onClose,\r\n  card,\r\n  onDeletePost,\r\n}) {\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onDeletePost(card);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"delete-post\"\r\n      title=\"Вы уверены?\"\r\n      buttonSubmit=\"Да\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    />\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/successRegist.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/errorRegist.df8eddf6.svg\";","import React from \"react\";\r\nimport successRegistImg from \"../images/successRegist.svg\";\r\nimport errorRegistImg from \"../images/errorRegist.svg\";\r\n\r\nexport default function InfoTooltipPopup(props) {\r\n  const { isOpen, onClose, statusRegist } = props;\r\n  const textInfo = statusRegist\r\n    ? \"Вы успешно зарегистрировались!\"\r\n    : \"Что-то пошло не так! Попробуйте ещё раз.\";\r\n  return (\r\n    <div className={`popup ${isOpen && \"popup_opened\"}`}>\r\n      <div className=\"popup__container\">\r\n        <img\r\n          src={statusRegist ? successRegistImg : errorRegistImg}\r\n          alt={statusRegist ? \"Успешная регистрация\" : \"Ошибка регистрации\"}\r\n          className=\"popup__img-status-regist\"\r\n        />\r\n        <p className=\"popup__caption-status-regist\">{textInfo}</p>\r\n        <button type=\"button\" className=\"popup__reset-button\" onClick={onClose} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function Login({ handleLogin }) {\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  }, []);\r\n\r\n  function handleChangeInputEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangeInputPassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleLogin(email, password);\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"login__title\">Вход</h2>\r\n      <form name=\"login\" className=\"login__form\" onSubmit={handleSubmit}>\r\n        <label className=\"login__field\">\r\n          <input\r\n            type=\"email\"\r\n            className=\"login__input\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            required\r\n            minLength=\"7\"\r\n            maxLength=\"20\"\r\n            value={email}\r\n            onChange={handleChangeInputEmail}\r\n          />\r\n          <span className=\"popup__error email-input-error\"></span>\r\n        </label>\r\n        <label className=\"login__field\">\r\n          <input\r\n            type=\"password\"\r\n            className=\"login__input\"\r\n            placeholder=\"Пароль\"\r\n            name=\"password\"\r\n            required\r\n            minLength=\"6\"\r\n            maxLength=\"20\"\r\n            value={password}\r\n            onChange={handleChangeInputPassword}\r\n          />\r\n          <span className=\"popup__error password-input-error\"></span>\r\n        </label>\r\n        <button type=\"submit\" className=\"login__submit-button\">\r\n          Войти\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Register({ handleRegister }) {\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    setEmail(\"\");\r\n    setPassword(\"\");\r\n  }, []);\r\n\r\n  function handleChangeInputEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangeInputPassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    handleRegister(password, email);\r\n  }\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h2 className=\"login__title\">Регистрация</h2>\r\n      <form name=\"login\" className=\"login__form\" onSubmit={handleSubmit}>\r\n        <label className=\"login__field\">\r\n          <input\r\n            type=\"email\"\r\n            className=\"login__input\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            required\r\n            minLength=\"7\"\r\n            maxLength=\"20\"\r\n            value={email}\r\n            onChange={handleChangeInputEmail}\r\n          />\r\n          <span className=\"popup__error email-input-error\"></span>\r\n        </label>\r\n        <label className=\"login__field\">\r\n          <input\r\n            type=\"password\"\r\n            className=\"login__input\"\r\n            placeholder=\"Пароль\"\r\n            name=\"password\"\r\n            required\r\n            minLength=\"6\"\r\n            maxLength=\"20\"\r\n            value={password}\r\n            onChange={handleChangeInputPassword}\r\n          />\r\n          <span className=\"popup__error password-input-error\"></span>\r\n        </label>\r\n        <button type=\"submit\" className=\"login__submit-button\">\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n      <p className=\"login__text\">Уже зарегистрированы?</p>\r\n      <Link className=\"login__text login__link\" to=\"/sign-in\">\r\n        Войти\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { LoggedInContext } from \"../contexts/LoggedInContext\";\r\n\r\nexport default function ProtectedRoute({ children }) {\r\n  const loggedIn = React.useContext(LoggedInContext);\r\n  return loggedIn ? children : <Navigate to=\"/sign-in\" />;\r\n}\r\n","import React from \"react\";\r\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\r\nimport { api } from \"../utils/api\";\r\nimport * as auth from \"../utils/auth\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport { LoggedInContext } from \"../contexts/LoggedInContext\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPostPopup from \"./AddPostPopup\";\r\nimport DeletePostPopup from \"./DeletePostPopup\";\r\nimport InfoTooltipPopup from \"./InfoTooltipPopup\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\n\r\nexport default function App() {\r\n  const history = useNavigate();\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [currentEmail, setCurrentEmail] = React.useState({});\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [isSuccessRegist, setIsSuccessRegist] = React.useState(false);\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPostPopupOpen, setIsAddPostPopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpenen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [isDeletePostPopupOpenen, setIsDeletePostPopupOpenen] =\r\n    React.useState(false);\r\n  const [isImagePopupOpenen, setIsImagePopupOpenen] = React.useState(false);\r\n  const [isInfoTooltipPopupOpenen, setIsInfoTooltipPopupOpenen] =\r\n    React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [posts, setPosts] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getPosts()\r\n      .then((data) => {\r\n        setPosts(data);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    handleTokenCheck();\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    const closeByEscape = (e) => {\r\n      if (e.key === \"Escape\") {\r\n        closeAllPopups();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", closeByEscape);\r\n\r\n    return () => document.removeEventListener(\"keydown\", closeByEscape);\r\n  }, []);\r\n\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPostPopupOpen(false);\r\n    setIsDeletePostPopupOpenen(false);\r\n    setIsImagePopupOpenen(false);\r\n    setSelectedCard(null);\r\n    setIsInfoTooltipPopupOpenen(false);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPostClick() {\r\n    setIsAddPostPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpenen(true);\r\n  }\r\n\r\n  function handleCardDeleteClick(card) {\r\n    setIsDeletePostPopupOpenen(true);\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikePostStatus(card._id, isLiked)\r\n      .then((newPost) => {\r\n        setPosts((state) =>\r\n          state.map((c) => (c._id === card._id ? newPost : c))\r\n        );\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api\r\n      .setUserInfo(data)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api\r\n      .setUserAvatar(data)\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleAddPost(data) {\r\n    api\r\n      .addPost(data)\r\n      .then((newPost) => {\r\n        setPosts([newPost, ...posts]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleDeletePost(card) {\r\n    api\r\n      .deletePost(card._id)\r\n      .then(() => {\r\n        setPosts((state) => state.filter((c) => c._id !== card._id));\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleTokenCheck() {\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      const jwt = localStorage.getItem(\"jwt\");\r\n      auth\r\n        .checkToken(jwt)\r\n        .then((res) => {\r\n          if (res) {\r\n            setCurrentEmail(res.data.email);\r\n            setLoggedIn(true);\r\n            history(\"/\");\r\n          }\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }\r\n\r\n  function handleLogin(email, password) {\r\n    auth\r\n      .authorize(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          setLoggedIn(true);\r\n          history(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  function handleRegister(password, email) {\r\n    auth\r\n      .register(password, email)\r\n      .then((res) => {\r\n        if (res.statusCode !== 400) {\r\n          setIsSuccessRegist(true);\r\n          history(\"/sign-in\");\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        setIsSuccessRegist(false);\r\n        return console.log(err);\r\n      })\r\n      .finally(() => {\r\n        setIsInfoTooltipPopupOpenen(true);\r\n      });\r\n  }\r\n\r\n  function handleSignOut() {\r\n    localStorage.removeItem(\"jwt\");\r\n    setLoggedIn(false);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <LoggedInContext.Provider value={loggedIn}>\r\n        <div className=\"page\">\r\n          <Header currentEmail={currentEmail} signOut={handleSignOut} />\r\n          <Routes>\r\n            <Route\r\n              path=\"/\"\r\n              element={\r\n                <ProtectedRoute>\r\n                  <Main\r\n                    onEditAvatar={handleEditAvatarClick}\r\n                    onEditProfile={handleEditProfileClick}\r\n                    onAddPost={handleAddPostClick}\r\n                    onCardClick={handleCardClick}\r\n                    onCardLike={handleCardLike}\r\n                    onCardDeleteClick={handleCardDeleteClick}\r\n                    posts={posts}\r\n                  />\r\n                </ProtectedRoute>\r\n              }\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/sign-up\"\r\n              element={<Register handleRegister={handleRegister} />}\r\n            />\r\n            <Route\r\n              exact\r\n              path=\"/sign-in\"\r\n              element={<Login handleLogin={handleLogin} />}\r\n            />\r\n          </Routes>\r\n\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n          />\r\n          <AddPostPopup\r\n            isOpen={isAddPostPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPost={handleAddPost}\r\n          />\r\n          <DeletePostPopup\r\n            isOpen={isDeletePostPopupOpenen}\r\n            onClose={closeAllPopups}\r\n            card={selectedCard}\r\n            onDeletePost={handleDeletePost}\r\n          />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpenen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n          />\r\n          <ImagePopup\r\n            isOpen={isImagePopupOpenen}\r\n            card={selectedCard}\r\n            onClose={closeAllPopups}\r\n          />\r\n          <InfoTooltipPopup\r\n            isOpen={isInfoTooltipPopupOpenen}\r\n            onClose={closeAllPopups}\r\n            statusRegist={isSuccessRegist}\r\n          />\r\n        </div>\r\n      </LoggedInContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}